<!-- Theme-specific CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="{{ theme_url }}/style.css">
<link rel="stylesheet" href="{{ theme_url }}/cropper.min.css">
</head>
<body class="admin-{{ page_id }}">&nbsp
<div class="admin-wrapper">
    <header class="admin-header">
        <div class="header-content">
            <h1>CMS Administration</h1>
            <div class="header-controls">
                <div class="notification-icon" title="Recent Notifications">
                    <span class="icon">ðŸ””</span>
                    <div class="notification-dropdown">
                        <div class="notification-header">Recent Activity</div>
                        <div class="notification-list">
                            <!-- Notifications will be populated via JavaScript -->
                        </div>
                    </div>
                </div>
                <span class="user-info">Logged in as {{ admin_name }}</span>
                <a href="{{ BASE }}/index.php" class="btn btn-small">Home</a>
                <a href="../logout.php" class="btn btn-small">Logout</a>
            </div>
        </div>
        {{ breadcrumbs_html|raw }}
        {{ notifications_html|raw }}
    </header>
    <div class="admin-layout">
        <div class="container">
            <div class="neon-wrapper">
                <div class="content-wrapper">
                    {{ sidebar|raw }}
                    {{ content|raw }}
                </div>
            </div>
        </div>
    </div>
</div>
<script>
// Neon theme-specific JavaScript functionality
$(function(){
    // Neon-specific notification system handlers
    $('#notification-btn').on('click', function(e){
        e.preventDefault();
        e.stopPropagation();
        $('#notification-dropdown').toggleClass('show');
    });
    
    $('#close-notifications').on('click', function(e){
        e.preventDefault();
        $('#notification-dropdown').removeClass('show');
    });
    
    // Close neon notification dropdown when clicking outside
    $(document).on('click', function(e){
        if (!$(e.target).closest('.notifications').length) {
            $('#notification-dropdown').removeClass('show');
        }
    });

    // Neon-specific notification dismiss handling
    $('.notify-dismiss').on('click', function(e){
        e.preventDefault();
        var id = $(this).data('id');
        var $li = $(this).closest('li');
        var $dropdown = $('#notification-dropdown');
        
        $.post('notifications.php', {id:id}).done(function(){
            $li.fadeOut(150, function(){ 
                $(this).remove(); 
                
                // Check if there are any notifications left
                var remainingNotifications = $('.notifications ul li').length;
                if (remainingNotifications === 0) {
                    // Hide notification dot and show "no notifications" message
                    $('.notification-dot').fadeOut(200);
                    $('.notification-content').html('<div class="no-notifications"><i class="fas fa-check-circle"></i><p>No new notifications</p></div>');
                }
            });
        });
    });
});
</script>
<!-- Universal JavaScript functionality and closing tags now loaded from admin_footer.php -->
